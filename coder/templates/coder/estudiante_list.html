{% extends "coder/index.html" %} {% block titulo %} Lista de estudiantes {% endblock %} {% block contenido %}
<div class="container my-5">
  <h2 class="mb-4 text-center">Listado de usuarios registrados</h2>

  <!-- Formulario de búsqueda -->
  <form method="GET" class="mb-4">
    <div class="input-group" style="max-width: 500px; margin: 0 auto">
      <input type="text" name="q" class="form-control" placeholder="Buscar estudiante por nombre..." value="{{ query }}" />
      <button class="btn btn-primary" type="submit">Buscar</button>
    </div>
  </form>

  <!-- Tabla de estudiantes -->
  <div class="card shadow-sm p-4">
    <table class="table table-striped table-hover mb-0">
      <thead class="table-primary">
        <tr>
          <th scope="col">N° de Legajo</th>
          <th scope="col">Nombre</th>
          <th scope="col">Apellido</th>
          <th scope="col">Email</th>
        </tr>
      </thead>
      <tbody>
        {% for est in estudiantes %}
        <tr>
          <td>{{ est.nro_legajo }}</td>
          <td>{{ est.nombre }}</td>
          <td>{{ est.apellido }}</td>
          <td>{{ est.email }}</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-center text-muted py-3">No se encontraron estudiantes.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="text-center mt-4">
    <a href="{% url 'index' %}" class="btn btn-primary px-4">Volver</a>
  </div>
</div>
{% endblock %}
